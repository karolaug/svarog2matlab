%This program is free software: you can redistribute it and/or modify
%it under the terms of the GNU General Public License as published by
%the Free Software Foundation, either version 3 of the License, or
%(at your option) any later version.
%Copyright Â© 2012 Karol Augustin <karol@augustin.pl>
%License can be found in license

1. Authors and copyrights
This set of functions was written by Karol Augustin and published under the therms of the GNU General Public License 3.

2. Appliance
This software is designed to prepare and import EEG data recorded using Svarog (http://svarog.pl) and OpenBCI (http://openbci.pl) software developed at the Faculty of Physics, University of Warsaw. Imported data can be analized in Matlab or pushed to EEGLAB.

3. Usage
To use this software you need two files generated by svarog during the signal recording: the .xml file containing meta information about signal and .raw file containing signal itself.
This two files need to have the same name and be placed in the same directory. When function refers to the file_name variable it means, that it refers to the file name of signal files without the extension.

EEGLAB loading functions supports channel names pushing wich leads to channel locations support in eeglab, but the proper channel names must be set during the signal recording because they have to be placed in xml file to be written from.

4.Functions

Functions that are recomended to use directly are:

sv_loaddata(file_name)
Returns info variable and data matrix. Takes filename without extension as argument.

sv_loadeeg(info, data)
Loads eeglab with data from data matrix and info variable, pushes channel names to eeglab. info and data variables can be taken from sv_loaddata function.

sv_loadeeg_file(file_name)
Loads eeglab with data from raw and xml files. Takes filename without extension as argument. Refer to sv_loaddata and sv_loadeeg functions for details.

sv_sig2trigg_bool(data, chan)
Function takes data matrix and number of boolean trigger channel and returns the same data matrix witch modified trigger channel. It assumes, that trigger takes values (0,1) and changes every instance to Dirac's delta localized in the first sample of each instance.

sv_sig2trigg_kus(info, data, chan, thre)
Function changes trigger chanel that has real values. It changes real values recorded by an ordinary amplifier channel to dirac's delta localized at the beginning of each trigger instance.
Thre variable is the min time between two trigger instances in seconds. This parameter is optional and if not set, takes default value of 0.3 seconds.

sv_sig2trigg_ssvep_kus(info, data, chan, thre, thre2)
Function analizes trigger data for SSVEP experiment paradigm, where diode was also plugged in to the amplifier channel.
Thre and thre2 parameters are optional. Thre parameter defines min time between two diode blinks and thre2 the time of stimulation.

sv_ssvep_matrix(file_name, chan, time, thre, thre2)
Function returns data prepared for analisys for SSVEP experiment paradigm, assuming that blinking diode was also plugged to the amplifier and frequencies of stimulation where put in the filename with txt extension in order they appeared in experiment.
Time is parameter how many seconds before and after begin of stimulation data will be taken for analisys in eeglab-like format. For example to take one second of reference signal before begin of stimulation and 5 sec after you have to set time = [-1, 6].
